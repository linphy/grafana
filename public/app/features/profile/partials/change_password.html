<page-header model="navModel"></page-header>

<div class="page-container page-body">
	<h2 class="page-sub-heading">
		修改密码
	</h2>

	<div ng-if="ldapEnabled || authProxyEnabled">
		启用ldap或auth代理认证时，不能修改密码。
	</div>

	<form name="userForm" class="gf-form-group" ng-hide="ldapEnabled || authProxyEnabled">
		<div class="gf-form">
			<span class="gf-form-label width-10">旧密码</span>
			<input class="gf-form-input max-width-21" type="password" required ng-model="command.oldPassword">
		</div>

		<div class="gf-form">
      <span class="gf-form-label width-10">
          <span>
            新密码
          </span>
          <tip>最少10位长度,大小写字母/数字/特殊字符最少3种组合且不能包含空格</tip>
        </span>
			<input class="gf-form-input max-width-21" type="password" required ng-minlength="10"  ng-model="command.newPassword" ng-pattern="passwordPattern">
      <div ng-show="userForm.newPassword.$viewValue && userForm.newPassword.$viewValue !== '' && userForm.newPassword.$invalid">
        <span style="color: red">密码复杂度校验失败</span>
      </div>
		</div>

		<div class="gf-form">
			<span class="gf-form-label width-10">确认密码</span>
			<input class="gf-form-input max-width-21" type="password" required ng-minlength="10"  ng-model="command.confirmNew">
		</div>

		<div class="gf-form-button-row">
			<button type="submit" class="btn btn-success" ng-click="changePassword()">修改密码</button>
			<a class="btn-text" href="profile">取消</a>
		</div>
	</form>

</div>


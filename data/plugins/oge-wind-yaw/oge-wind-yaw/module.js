define(["app/plugins/sdk","lodash"],function(n,r){return s={},o.m=i={"../node_modules/css-loader/index.js?!./css/yaw-panel.css":
/*!****************************************************************!*\
  !*** ../node_modules/css-loader??ref--5-1!./css/yaw-panel.css ***!
  \****************************************************************/
/*! no static exports found */function(t,e,n){(t.exports=n(/*! ../../node_modules/css-loader/lib/css-base.js */"../node_modules/css-loader/lib/css-base.js")(!0)).push([t.i,".oge-wind-yaw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.oge-wind-yaw h4 {\n  line-height: 1.4;\n  text-align: center;\n}\n\n\n.canvas-panel{\n  width: 100%;\n}","",{version:3,sources:["D:/worksoftware/grafana panel/grafana-plugins-new/plugins/oge-wind-yaw/src/css/yaw-panel.css"],names:[],mappings:"AAAA;EACE,cAAc;EACd,oBAAoB;EACpB,wBAAwB;EACxB,uBAAuB;CACxB;;AAED;EACE,iBAAiB;EACjB,mBAAmB;CACpB;;;AAGD;EACE,YAAY;CACb",file:"yaw-panel.css",sourcesContent:[".oge-wind-yaw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.oge-wind-yaw h4 {\n  line-height: 1.4;\n  text-align: center;\n}\n\n\n.canvas-panel{\n  width: 100%;\n}"],sourceRoot:""}])},"../node_modules/css-loader/lib/css-base.js":
/*!**************************************************!*\
  !*** ../node_modules/css-loader/lib/css-base.js ***!
  \**************************************************/
/*! no static exports found */function(t,e){t.exports=function(n){var s=[];return s.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&n[i[0]]||(e&&!i[2]?i[2]=e:e&&(i[2]="("+i[2]+") and ("+e+")"),s.push(i))}},s}},"../node_modules/style-loader/lib/addStyles.js":
/*!*****************************************************!*\
  !*** ../node_modules/style-loader/lib/addStyles.js ***!
  \*****************************************************/
/*! no static exports found */function(t,e,r){var n,o,i,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=(i={},function(t,e){if("function"==typeof t)return t();if(void 0===i[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}i[t]=n}return i[t]}),a=null,d=0,u=[],f=r(/*! ./urls */"../node_modules/style-loader/lib/urls.js");function h(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(g(r.parts[i],e))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(g(r.parts[i],e));l[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function v(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);0<=e&&u.splice(e,1)}function w(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return b(e,t.attrs),v(t,e),e}function b(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var s=d++;n=a||(a=w(t)),r=x.bind(null,n,s,!1),o=x.bind(null,n,s,!0)}else o=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),v(t,e),e}(t),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=w(t),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}t.exports=function(t,s){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs="object"==typeof s.attrs?s.attrs:{},s.singleton||"boolean"==typeof s.singleton||(s.singleton=c()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var a=p(t,s);return h(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var r=a[n];(o=l[r.id]).refs--,e.push(o)}t&&h(p(t,s),s);for(n=0;n<e.length;n++){var o;if(0===(o=e[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var m,A=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function x(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=A(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}},"../node_modules/style-loader/lib/urls.js":
/*!************************************************!*\
  !*** ../node_modules/style-loader/lib/urls.js ***!
  \************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,i=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},"./css/yaw-panel.css":
/*!***************************!*\
  !*** ./css/yaw-panel.css ***!
  \***************************/
/*! no static exports found */function(t,e,n){var r=n(/*! !../../node_modules/css-loader??ref--5-1!./yaw-panel.css */"../node_modules/css-loader/index.js?!./css/yaw-panel.css");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../node_modules/style-loader/lib/addStyles.js */"../node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(t.exports=r.locals)},"./external/yaw-drawer.js":
/*!********************************!*\
  !*** ./external/yaw-drawer.js ***!
  \********************************/
/*! no static exports found */function(t,e){t.exports=new function(){this.canvasArr=[],this.ctxArr=[],this.height=200,this.width=400,this.style={wind:{bgColor:"white",boderColor:"black",r:4},shadowColor:"#808a87"},this.init=function(t,e){this.height=e,this.width=t.width();t.html("<div style='z-index:1; position: absolute; top: 0;'><canvas class='canvas-0'></canvas></div><div style='z-index:2; position: absolute; top: 0;'><canvas class='canvas-1'></canvas></div><div style='z-index:3; position: absolute; top: 0;'><canvas class='canvas-2'></canvas></div>");for(var n=0;n<3;n++){var r=t.find(".canvas-"+n)[0];r.width=this.width,r.height=e,this.canvasArr[n]=r,this.ctxArr[n]=r.getContext("2d")}this.drawShadow(),this.drawDottedline(),this.drawWind()},this.drawWind=function(){var t=this.ctxArr[2];this.bezierEllipse(t),this.drawOval(this.width/4,5*this.height/6,this.width/5,this.height/12,t),this.drawOval(this.width/4*3,5*this.height/6,this.width/5,this.height/12,t)},this.bezierEllipse=function(t){var e=this.width/12,n=this.width/8*3,r=this.height/20*19;t.fillStyle=this.style.wind.bgColor,t.strokeStyle=this.style.wind.boderColor,t.beginPath(),t.moveTo(n-n/5,r+r/2),t.lineTo(n,r),t.bezierCurveTo(n+e,this.height/12*5,n+2*e,this.height/12*5,n+3*e,r),t.lineTo(n+3*e+n/5,r+r/2),t.fill(),t.stroke(),t.beginPath(),t.moveTo(n,r),t.lineTo(n+3*e,r),t.stroke()},this.drawOval=function(t,e,n,r,o){o.beginPath(),o.ellipse(t,e,n,r,0,0,2*Math.PI),o.fillStyle=this.style.wind.bgColor,o.strokeStyle=this.style.wind.boderColor,o.fill(),o.stroke()},this.drawDottedline=function(){for(var t=this.ctxArr[1],e=new Array(45,30,15,0,-15,-30,-45),n=0;n<e.length;n++)this.drawDottedlineDetail(t,e[n])},this.drawDottedlineDetail=function(t,e){t.save(),t.translate(this.width/2,this.height),t.rotate(e*Math.PI/180),t.beginPath(),t.lineWidth=1,t.moveTo(0,-this.height/15*14),t.lineTo(0,-this.height/20),t.setLineDash([8]),t.lineCap="round",t.fillText(e/3+"°",-8,-this.height/15*14-5),45!==e&&t.fillText(Math.abs(e/5)+"%",20,-this.height/4*3),t.stroke(),t.restore()},this.drawShadow=function(){var t=this.ctxArr[0];t.fillStyle=this.style.shadowColor,t.strokeStyle=this.style.shadowColor,t.beginPath(),t.moveTo(this.width/2,this.height),t.arc(this.width/2,this.height,this.height/15*14,1.24*Math.PI,1.76*Math.PI),t.lineTo(this.width/2,this.height),t.fill(),t.stroke()}}},"./module.ts":
/*!*******************!*\
  !*** ./module.ts ***!
  \*******************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PanelCtrl=void 0;var r=n(/*! ./yaw_ctrl */"./yaw_ctrl.ts");e.PanelCtrl=r.YawCtrl},"./yaw_ctrl.ts":
/*!*********************!*\
  !*** ./yaw_ctrl.ts ***!
  \*********************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YawCtrl=void 0;var r=n(/*! grafana/app/plugins/sdk */"grafana/app/plugins/sdk"),o=s(n(/*! lodash */"lodash"));n(/*! ./css/yaw-panel.css */"./css/yaw-panel.css");var i=s(n(/*! ./external/yaw-drawer */"./external/yaw-drawer.js"));function s(t){return t&&t.__esModule?t:{default:t}}var a,l,c=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=(l=r.MetricsPanelCtrl,c(u,l),u.$inject=["$scope","$injector"],u.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/plugins/oge-wind-yaw/partials/options.html",2)},u.prototype.onPanelTeardown=function(){},u.prototype.onDataReceived=function(t){this.render()},u.prototype.updateClock=function(){},u.prototype.link=function(t,n,e,r){var o=this;this.events.on("render",function(){var t=n.find(".panel-container");o.panel.bgColor?t.css("background-color",o.panel.bgColor):t.css("background-color","");var e=n.find(".canvas-panel");i.default.init(e,r.height)})},u.templateUrl="partials/module.html",u);function u(t,e){var n=l.call(this,t,e)||this;return n.panelDefaults={bgColor:null},o.default.defaultsDeep(n.panel,n.panelDefaults),n.events.on("init-edit-mode",n.onInitEditMode.bind(n)),n.events.on("panel-teardown",n.onPanelTeardown.bind(n)),n.events.on("data-received",n.onDataReceived.bind(n)),n}e.YawCtrl=d},"grafana/app/plugins/sdk":
/*!**********************************!*\
  !*** external "app/plugins/sdk" ***!
  \**********************************/
/*! no static exports found */function(t,e){t.exports=n},lodash:
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=r}},o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./module.ts");function o(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i,s});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY3NzL3lhdy1wYW5lbC5jc3MiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2Nzcy95YXctcGFuZWwuY3NzPzkzODAiLCJ3ZWJwYWNrOi8vLy4vZXh0ZXJuYWwveWF3LWRyYXdlci5qcyIsIndlYnBhY2s6Ly8vLi9tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4veWF3X2N0cmwudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtIiwibW9kdWxlIiwiZXhwb3J0cyIsInB1c2giLCJpIiwidmVyc2lvbiIsInNvdXJjZXMiLCJuYW1lcyIsIm1hcHBpbmdzIiwiZmlsZSIsInNvdXJjZXNDb250ZW50Iiwic291cmNlUm9vdCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvQ29tbWVudCIsInNvdXJjZVVSTHMiLCJzb3VyY2UiLCJjb25jYXQiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiY2FsbCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidW5kZWZpbmVkIiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIm8iLCIkMSIsInRlc3QiLCJobXIiLCJsb2NhbHMiLCJjYW52YXNBcnIiLCJjdHhBcnIiLCJoZWlnaHQiLCJ3aWR0aCIsIndpbmQiLCJiZ0NvbG9yIiwiYm9kZXJDb2xvciIsInIiLCJzaGFkb3dDb2xvciIsImluaXQiLCJodG1sIiwiY2FudmFzIiwiZmluZCIsImdldENvbnRleHQiLCJkcmF3U2hhZG93IiwiZHJhd0RvdHRlZGxpbmUiLCJkcmF3V2luZCIsImNvbnRleHQiLCJiZXppZXJFbGxpcHNlIiwiZHJhd092YWwiLCJ0ZW1wIiwieCIsInkiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImJlemllckN1cnZlVG8iLCJmaWxsIiwic3Ryb2tlIiwicjEiLCJyMiIsImVsbGlwc2UiLCJNYXRoIiwiUEkiLCJhbmdsZXMiLCJBcnJheSIsImRyYXdEb3R0ZWRsaW5lRGV0YWlsIiwiYW5nZWwiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwibGluZVdpZHRoIiwic2V0TGluZURhc2giLCJsaW5lQ2FwIiwiZmlsbFRleHQiLCJhYnMiLCJyZXN0b3JlIiwiYXJjIiwiX3lhd19jdHJsIiwiUGFuZWxDdHJsIiwiWWF3Q3RybCIsIl9zZGsiLCJfc3VwZXIiLCJfX2V4dGVuZHMiLCIkaW5qZWN0IiwicHJvdG90eXBlIiwib25Jbml0RWRpdE1vZGUiLCJhZGRFZGl0b3JUYWIiLCJvbkRhdGFSZWNlaXZlZCIsImRhdGFMaXN0IiwicmVuZGVyIiwic2NvcGUiLCJlbGVtIiwiY3RybCIsImV2ZW50cyIsIm9uIiwiX3RoaXMiLCJwYW5lbCIsIiRwYW5lbENvbnRhaW5lciIsIl95YXdEcmF3ZXIyIiwiY2FudmFzUGFuZWwiLCJ0ZW1wbGF0ZVVybCIsIiRzY29wZSIsIiRpbmplY3RvciIsInBhbmVsRGVmYXVsdHMiLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibW9kdWxlSWQiLCJsIl0sIm1hcHBpbmdzIjoieURBQ0FBLEVBQUEsR0E0QkFDLEVBQUFDOzs7OytDQzdCQUMsRUFBQUMsUUFBMkJILHNEQUFRLDZDQUFSQSxFQUF1RCxJQUtsRkksS0FBQSxDQUFjRixFQUFBRyxFQUFTLGtPQUFrTyxJQUFRQyxRQUFBLEVBQUFDLFFBQUEsaUdBQUFDLE1BQUEsR0FBQUMsU0FBQSx3SEFBK1BDLEtBQUEsZ0JBQUFDLGVBQUEsb09BQStRQyxXQUFBOzs7OzRDQ0Evd0JWLEVBQUFDLFFBQUEsU0FBQVUsR0FDQSxJQUFBQyxFQUFBLEdBd0NBLE9BckNBQSxFQUFBQyxTQUFBLFdBQ0EsT0FBQUMsS0FBQUMsSUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBc0NBLFNBQUFELEVBQUFMLEdBQ0EsSUFBQU0sRUFBQUQsRUFBQSxPQUNBRSxFQUFBRixFQUFBLEdBQ0EsSUFBQUUsRUFDQSxPQUFBRCxFQUdBLEdBQUFOLEdBQUEsbUJBQUFRLEtBQUEsQ0FDQSxJ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QUFqSixFQUFBLFNBQUFBLEdBQWdILE9BQUE2SSxFQUFBN0ksSUFBcUJVLEtBQUEsS0FBQVYsSUFDckksT0FBQWlKLEdBSUE1UCxFQUFBOFAsRUFBQSxTQUFBNVAsR0FDQSxJQUFBZ1AsRUFBQWhQLEtBQUF5UCxXQUNBLFdBQTJCLE9BQUF6UCxFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFGLEVBQUFnUCxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFsUCxFQUFBNkosRUFBQSxTQUFBa0csRUFBQUMsR0FBc0QsT0FBQXhKLE9BQUFtSCxVQUFBc0MsZUFBQTNNLEtBQUF5TSxFQUFBQyxJQUd0RGhRLEVBQUFrUSxFQUFBLEdBSUFsUSxJQUFBbVEsRUFBQSxlQTlFQSxTQUFBblEsRUFBQW9RLEdBR0EsR0FBQXJRLEVBQUFxUSxHQUNBLE9BQUFyUSxFQUFBcVEsR0FBQWpRLFFBR0EsSUFBQUQsRUFBQUgsRUFBQXFRLEdBQUEsQ0FDQS9QLEVBQUErUCxFQUNBQyxHQUFBLEVBQ0FsUSxRQUFBLElBVUEsT0FOQStCLEVBQUFrTyxHQUFBOU0sS0FBQXBELEVBQUFDLFFBQUFELElBQUFDLFFBQUFILEdBR0FFLEVBQUFtUSxHQUFBLEVBR0FuUSxFQUFBQyxjQXZCQUoiLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9tb2R1bGUudHNcIik7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm9nZS13aW5kLXlhdyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuXFxuLm9nZS13aW5kLXlhdyBoNCB7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG5cXG4uY2FudmFzLXBhbmVse1xcbiAgd2lkdGg6IDEwMCU7XFxufVwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJEOi93b3Jrc29mdHdhcmUvZ3JhZmFuYSBwYW5lbC9ncmFmYW5hLXBsdWdpbnMtbmV3L3BsdWdpbnMvb2dlLXdpbmQteWF3L3NyYy9jc3MveWF3LXBhbmVsLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGNBQWM7RUFDZCxvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHVCQUF1QjtDQUN4Qjs7QUFFRDtFQUNFLGlCQUFpQjtFQUNqQixtQkFBbUI7Q0FDcEI7OztBQUdEO0VBQ0UsWUFBWTtDQUNiXCIsXCJmaWxlXCI6XCJ5YXctcGFuZWwuY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5vZ2Utd2luZC15YXcge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblxcbi5vZ2Utd2luZC15YXcgaDQge1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuXFxuLmNhbnZhcy1wYW5lbHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcblxuLy8gZXhwb3J0c1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTUtMSEuL3lhdy1wYW5lbC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTUtMSEuL3lhdy1wYW5lbC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS01LTEhLi95YXctcGFuZWwuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZnVuY3Rpb24gWWF3RHJhd2VyKCkge1xuICAgIHRoaXMuY2FudmFzQXJyID0gW107XG4gICAgdGhpcy5jdHhBcnIgPSBbXTtcbiAgICB0aGlzLmhlaWdodCA9IDIwMDtcbiAgICB0aGlzLndpZHRoID0gNDAwO1xuICAgIHRoaXMuc3R5bGUgPSB7XG4gICAgICAgIHdpbmQ6IHtcbiAgICAgICAgICAgIGJnQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib2RlckNvbG9yOiAnYmxhY2snLFxuICAgICAgICAgICAgcjogNFxuICAgICAgICB9LFxuICAgICAgICBzaGFkb3dDb2xvcjogJyM4MDhhODcnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LW35aeL5pa55rOVXG4gICAgICogdGFyZ2V0IGpxdWVyeSBodG1s5YWD57Sg77yM5Y+v6I635Y+W5YWD57Sg5a695bqmXG4gICAgICog5rOo5oSP77ya55S75biD55qE6LW35aeL54K55Zyo5bem5LiK6KeSXG4gICAgICovXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKHRhcmdldCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLndpZHRoID0gdGFyZ2V0LndpZHRoKCk7XG5cbiAgICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgc3R5bGU9J3otaW5kZXg6MTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7Jz48Y2FudmFzIGNsYXNzPSdjYW52YXMtMCc+PC9jYW52YXM+PC9kaXY+XCI7XG4gICAgICAgIGh0bWwgKz0gXCI8ZGl2IHN0eWxlPSd6LWluZGV4OjI7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyc+PGNhbnZhcyBjbGFzcz0nY2FudmFzLTEnPjwvY2FudmFzPjwvZGl2PlwiO1xuICAgICAgICBodG1sICs9IFwiPGRpdiBzdHlsZT0nei1pbmRleDozOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsnPjxjYW52YXMgY2xhc3M9J2NhbnZhcy0yJz48L2NhbnZhcz48L2Rpdj5cIjtcbiAgICAgICAgdGFyZ2V0Lmh0bWwoaHRtbCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0YXJnZXQuZmluZCgnLmNhbnZhcy0nICsgaSlbMF07XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5jYW52YXNBcnJbaV0gPSBjYW52YXM7XG4gICAgICAgICAgICB0aGlzLmN0eEFycltpXSA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdTaGFkb3coKTsgLy/nlLvpmLTlvbHpg6jliIZcbiAgICAgICAgdGhpcy5kcmF3RG90dGVkbGluZSgpOyAvL+eUu+iZmue6v1xuICAgICAgICB0aGlzLmRyYXdXaW5kKCk7IC8v55S76aOO5py6K+WPtueJh1xuICAgIH1cblxuICAgIHRoaXMuZHJhd1dpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jdHhBcnJbMl07XG4gICAgICAgIC8vdGhpcy5kcmF3T3ZhbCh0aGlzLndpZHRoLzIsIHRoaXMuaGVpZ2h0ICogMiwgdGhpcy53aWR0aCAvIDUsIHRoaXMuaGVpZ2h0ICogMiAtIHRoaXMuaGVpZ2h0IC8gMiwgY29udGV4dCk7IC8v5aS0XG4gICAgICAgIHRoaXMuYmV6aWVyRWxsaXBzZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5kcmF3T3ZhbCh0aGlzLndpZHRoIC8gNCwgdGhpcy5oZWlnaHQgKiA1IC8gNiwgdGhpcy53aWR0aCAvIDUsIHRoaXMuaGVpZ2h0IC8gMTIsIGNvbnRleHQpOyAvL+W3puWPtueJh1xuICAgICAgICB0aGlzLmRyYXdPdmFsKHRoaXMud2lkdGggLyA0ICogMywgdGhpcy5oZWlnaHQgKiA1IC8gNiwgdGhpcy53aWR0aCAvIDUsIHRoaXMuaGVpZ2h0IC8gMTIsIGNvbnRleHQpOyAvL+WPs+WPtueJh1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi0neWhnuWwlOabsue6v1xuICAgICAqL1xuICAgIHRoaXMuYmV6aWVyRWxsaXBzZSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciB0ZW1wID0gdGhpcy53aWR0aCAvIDEyO1xuICAgICAgICB2YXIgeCA9IHRoaXMud2lkdGggLyA4ICogMztcbiAgICAgICAgdmFyIHkgPSB0aGlzLmhlaWdodCAvIDIwICogMTk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5zdHlsZS53aW5kLmJnQ29sb3I7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0eWxlLndpbmQuYm9kZXJDb2xvcjtcblxuICAgICAgICAvL+akreWchlxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4IC0geCAvIDUsIHkgKyB5IC8gMik7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeCArIHRlbXAsIHRoaXMuaGVpZ2h0IC8gMTIgKiA1LCB4ICsgMiAqIHRlbXAsIHRoaXMuaGVpZ2h0IC8gMTIgKiA1LCB4ICsgMyAqIHRlbXAsIHkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4ICsgKyAzICogdGVtcCArIHggLyA1LCB5ICsgeSAvIDIpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAvL+i/nue6v1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeCArIDMgKiB0ZW1wLCB5KTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnlLvlj7bniYfmpK3lnIZcbiAgICAgKi9cbiAgICB0aGlzLmRyYXdPdmFsID0gZnVuY3Rpb24gKHgsIHksIHIxLCByMiwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmVsbGlwc2UoeCwgeSwgcjEsIHIyLCAwLCAwLCBNYXRoLlBJICogMik7IC8vXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5zdHlsZS53aW5kLmJnQ29sb3I7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0eWxlLndpbmQuYm9kZXJDb2xvcjtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3RG90dGVkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmN0eEFyclsxXTtcbiAgICAgICAgdmFyIGFuZ2xlcyA9IG5ldyBBcnJheSg0NSwgMzAsIDE1LCAwLCAtMTUsIC0zMCwgLTQ1KTtcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8YW5nbGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMuZHJhd0RvdHRlZGxpbmVEZXRhaWwoY29udGV4dCwgYW5nbGVzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZHJhd0RvdHRlZGxpbmVEZXRhaWwgPSBmdW5jdGlvbihjb250ZXh0LCBhbmdlbCl7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLndpZHRoLzIsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUoYW5nZWwgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbygwLCAtIHRoaXMuaGVpZ2h0IC8gMTUgKiAxNCk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKDAsIC0gdGhpcy5oZWlnaHQgLyAyMCk7XG4gICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goWzhdKTtcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoYW5nZWwvMyArIFwiwrBcIiwgLTgsIC0gdGhpcy5oZWlnaHQgLyAxNSAqIDE0IC0gNSk7XG4gICAgICAgIGlmKGFuZ2VsICE9PSA0NSl7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KE1hdGguYWJzKGFuZ2VsLzUpICsgXCIlXCIsIDIwLCAtIHRoaXMuaGVpZ2h0IC8gNCAqIDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3U2hhZG93ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmN0eEFyclswXTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLnN0eWxlLnNoYWRvd0NvbG9yO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5zdHlsZS5zaGFkb3dDb2xvcjtcbiAgICAgICAgXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMud2lkdGgvMiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLndpZHRoLzIsIHRoaXMuaGVpZ2h0LCB0aGlzLmhlaWdodCAvIDE1ICogMTQsIDEuMjQgKiBNYXRoLlBJLCAxLjc2ICogTWF0aC5QSSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHRoaXMud2lkdGgvMiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgWWF3RHJhd2VyKCk7IiwiaW1wb3J0IHtZYXdDdHJsfSBmcm9tICcuL3lhd19jdHJsJztcblxuZXhwb3J0IHtcbiAgWWF3Q3RybCBhcyBQYW5lbEN0cmxcbn07XG4iLCJpbXBvcnQgeyBNZXRyaWNzUGFuZWxDdHJsIH0gZnJvbSAnZ3JhZmFuYS9hcHAvcGx1Z2lucy9zZGsnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCAnLi9jc3MveWF3LXBhbmVsLmNzcyc7XG5pbXBvcnQgZHJhd2VyIGZyb20gJy4vZXh0ZXJuYWwveWF3LWRyYXdlcic7XG5cbmV4cG9ydCBjbGFzcyBZYXdDdHJsIGV4dGVuZHMgTWV0cmljc1BhbmVsQ3RybCB7XG4gIHN0YXRpYyB0ZW1wbGF0ZVVybCA9ICdwYXJ0aWFscy9tb2R1bGUuaHRtbCc7XG5cbiAgcGFuZWxEZWZhdWx0cyA9IHtcbiAgICBiZ0NvbG9yOiBudWxsXG4gIH07XG5cbiAgLyoqIEBuZ0luamVjdCAqL1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRpbmplY3Rvcikge1xuICAgIHN1cGVyKCRzY29wZSwgJGluamVjdG9yKTtcbiAgICBfLmRlZmF1bHRzRGVlcCh0aGlzLnBhbmVsLCB0aGlzLnBhbmVsRGVmYXVsdHMpO1xuXG4gICAgdGhpcy5ldmVudHMub24oJ2luaXQtZWRpdC1tb2RlJywgdGhpcy5vbkluaXRFZGl0TW9kZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmV2ZW50cy5vbigncGFuZWwtdGVhcmRvd24nLCB0aGlzLm9uUGFuZWxUZWFyZG93bi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmV2ZW50cy5vbignZGF0YS1yZWNlaXZlZCcsIHRoaXMub25EYXRhUmVjZWl2ZWQuYmluZCh0aGlzKSk7XG4gIH1cblxuICBvbkluaXRFZGl0TW9kZSgpIHtcbiAgICB0aGlzLmFkZEVkaXRvclRhYignT3B0aW9ucycsICdwdWJsaWMvcGx1Z2lucy9vZ2Utd2luZC15YXcvcGFydGlhbHMvb3B0aW9ucy5odG1sJywgMik7XG4gIH1cblxuICBvblBhbmVsVGVhcmRvd24oKSB7XG4gIH1cblxuICBvbkRhdGFSZWNlaXZlZChkYXRhTGlzdCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICB1cGRhdGVDbG9jaygpIHtcblxuICB9XG5cbiAgbGluayhzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcbiAgICB0aGlzLmV2ZW50cy5vbigncmVuZGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgJHBhbmVsQ29udGFpbmVyID0gZWxlbS5maW5kKCcucGFuZWwtY29udGFpbmVyJyk7XG5cbiAgICAgIGlmICh0aGlzLnBhbmVsLmJnQ29sb3IpIHtcbiAgICAgICAgJHBhbmVsQ29udGFpbmVyLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIHRoaXMucGFuZWwuYmdDb2xvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcGFuZWxDb250YWluZXIuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FudmFzUGFuZWwgPSBlbGVtLmZpbmQoJy5jYW52YXMtcGFuZWwnKTtcbiAgICAgIGRyYXdlci5pbml0KGNhbnZhc1BhbmVsLCBjdHJsLmhlaWdodCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=
{"version":3,"sources":["../../src/barchart_ctrl.js"],"names":["MetricsPanelCtrl","_","echarts","panelDefaults","dataPrecise","dataMonthOrDay","barChartTitle","statvalues","showChartData","barChartValueColor","storeData","BarChartPanelCtrl","$scope","$injector","defaults","panel","events","on","onInitEditMode","bind","onDataReceived","onRender","valueShowStatOptions","text","value","valueShowMonthOrDayOptions","addEditorTab","dataList","length","target","datapoints","console","error","splitData","data","xAxisData","series","legend","j","push","isArray","oneListData","i","year","Date","getFullYear","month","getMonth","day","getDate","timebool","timeStr","daytimebool","daytimeStr","type","name","label","show","position","color","key","ondv","indexOf","dealDataFormat","drawBarChart","totalNum","statMax","statMin","reVal","parseFloat","toFixed","ind","barChartData","barChartPanel","barChartElem","find","myChart","init","option","title","grid","left","top","bottom","right","tooltip","xAxis","yAxis","z","orient","textStyle","setOption","scope","elem","attrs","ctrl","templateUrl"],"mappings":"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","file":"barchart_ctrl.js","sourcesContent":["import {\r\n\tMetricsPanelCtrl\r\n}\r\nfrom 'app/plugins/sdk';\r\nimport _ from 'lodash';\r\nimport echarts from 'vendor/echarts/echarts.min.js';\r\n\r\nvar panelDefaults = {\r\n\tdataPrecise: 2,\r\n\tdataMonthOrDay: 'month',\r\n\tbarChartTitle: '',\r\n\tstatvalues: 'current',\r\n\tshowChartData: true,\r\n\tbarChartValueColor: 'white'\r\n};\r\nvar storeData = [];//储存从接口传回的数据，避免多次接口请求\r\nexport class BarChartPanelCtrl extends MetricsPanelCtrl {\r\n\r\n\t/** @ngInject */\r\n\tconstructor($scope, $injector) {\r\n\t\tsuper($scope, $injector);\r\n\r\n\t\t_.defaults(this.panel, panelDefaults);\r\n\r\n\t\tthis.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n\t\tthis.events.on('data-received', this.onDataReceived.bind(this));\r\n\t\tthis.events.on('render', this.onRender.bind(this));\r\n\t\tthis.valueShowStatOptions =  [\r\n\t\t\t{text: 'Avg', value: 'avg'},\r\n\t\t\t{text: 'Min', value: 'min'},\r\n\t\t\t{text: 'Max', value: 'max'},\r\n\t\t\t{text: 'Total', value: 'total'},\r\n\t\t\t{text: 'Count', value: 'count'},\r\n\t\t\t{text: 'Current', value: 'current'},\r\n\t\t];\r\n\t\tthis.valueShowMonthOrDayOptions = [\r\n\t\t\t{text: '年', value: 'year'},\r\n\t\t\t{text: '月', value: 'month'},\r\n\t\t\t{text: '日', value: 'day'}\r\n\t\t];\r\n\t}\r\n\r\n\tonInitEditMode() {\r\n\t\tthis.addEditorTab('Options',\r\n\t\t\t'public/plugins/oge_bar_chart/editor.html', 2);\r\n\t}\r\n\r\n\tonDataReceived(dataList) {\r\n\t\tif(!(dataList && dataList.length > 0 && dataList[0].target && dataList[0].datapoints && dataList[0].datapoints.length>0)) {\r\n\t\t\tconsole.error(\"no data found wave\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstoreData = dataList;\r\n\t\tthis.splitData();\r\n\t}\r\n\r\n\tonRender() {\r\n\t}\r\n\tsplitData() {\r\n\t\tvar data = {\r\n\t\t\txAxisData: [],\r\n\t\t\tseries: [],\r\n\t\t\tlegend: []\r\n\t\t};\r\n\t\tfor(var j=0;j<storeData.length;j++) {\r\n\t\t\tdata.legend.push(storeData[j].target);\r\n\t\t\tif(!(_.isArray(storeData[j].datapoints[0]))){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet oneListData = {};\r\n\t\t\tfor(var i = 0; i < storeData[j].datapoints.length; i++) {\r\n\t\t\t\tlet year = new Date(storeData[j].datapoints[i][1]).getFullYear();\r\n\t\t\t\tlet month = new Date(storeData[j].datapoints[i][1]).getMonth()+1;\r\n\t\t\t\tlet day = new Date(storeData[j].datapoints[i][1]).getDate();\r\n\t\t\t\tswitch(this.panel.dataMonthOrDay) {\r\n\t\t\t\t\tcase \"year\":\r\n\t\t\t\t\t\tif(oneListData[year]) {\r\n\t\t\t\t\t\t\toneListData[year].push(storeData[j].datapoints[i][0]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toneListData[year] = [storeData[j].datapoints[i][0]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"month\":\r\n\t\t\t\t\t\tlet timebool = storeData[j].datapoints[storeData[j].datapoints.length-1][1]-storeData[j].datapoints[0][1]>31536000000;\r\n\t\t\t\t\t\tlet timeStr = timebool?(year+'-'+month):(month+\"月\");\r\n\t\t\t\t\t\tif(oneListData[timeStr]) {\r\n\t\t\t\t\t\t\toneListData[timeStr].push(storeData[j].datapoints[i][0]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toneListData[timeStr] = [storeData[j].datapoints[i][0]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tlet daytimebool = storeData[j].datapoints[storeData[j].datapoints.length-1][1]-storeData[j].datapoints[0][1]>31536000000;\r\n\t\t\t\t\t\tlet daytimeStr = daytimebool?(year+'-'+month+''+ day):(month+\"-\"+day);\r\n\t\t\t\t\t\tif(oneListData[daytimeStr]) {\r\n\t\t\t\t\t\t\toneListData[daytimeStr].push(storeData[j].datapoints[i][0]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toneListData[daytimeStr] = [storeData[j].datapoints[i][0]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdata.series[j] = {\r\n\t\t\t\tdata: [],\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tname: storeData[j].target,\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tshow: this.panel.showChartData,\r\n\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\tcolor: this.panel.barChartValueColor\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tfor (let key in oneListData) {\r\n\t\t\t\tlet ondv = oneListData[key];\r\n\t\t\t\tif(data.xAxisData.indexOf(key)==-1) {\r\n\t\t\t\t\tdata.xAxisData.push(key);\r\n\t\t\t\t}\r\n\t\t\t\tdata.series[j].data.push(this.dealDataFormat(ondv));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.drawBarChart(data);\r\n\t}\r\n\tdealDataFormat(ondv) {\r\n\t\tvar totalNum = 0;\r\n\t\tvar statMax = ondv[0];\r\n\t\tvar statMin = ondv[0];\r\n\t\tvar reVal = null; //返回给series的值\r\n\t\tfor(var i = 0; i < ondv.length; i++) {\r\n\t\t\tif(ondv[i]){\r\n\t\t\t\tvar value = ondv[i];\r\n\t\t\t\tif(statMax < value) {\r\n\t\t\t\t\tstatMax = value;\r\n\t\t\t\t}\r\n\t\t\t\tif(statMin > value) {\r\n\t\t\t\t\tstatMin = value;\r\n\t\t\t\t}\r\n\t\t\t\ttotalNum += value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch(this.panel.statvalues) {\r\n\t\t\tcase 'avg':\r\n\t\t\t\treVal = parseFloat((totalNum/ondv.length).toFixed(this.panel.dataPrecise));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'min':\r\n\t\t\t\treVal = parseFloat(statMin.toFixed(this.panel.dataPrecise));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'max':\r\n\t\t\t\treVal = parseFloat(statMax.toFixed(this.panel.dataPrecise));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'total':\r\n\t\t\t\treVal = parseFloat(totalNum.toFixed(this.panel.dataPrecise));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'count':\r\n\t\t\t\treVal = parseFloat(ondv.length);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tfor(let ind = ondv.length-1;ind>=0;ind--){\r\n\t\t\t\t\tif(ondv[ind]!==null) {\r\n\t\t\t\t\t\treVal = parseFloat(ondv[ind].toFixed(this.panel.dataPrecise));\r\n\t\t\t\t\t\treturn reVal;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn reVal;\r\n\t}\r\n\r\n\tdrawBarChart(barChartData) {\r\n\t\tvar barChartPanel = this.barChartElem.find('.barChartMain')[0];\r\n\t\tvar myChart = echarts.init(barChartPanel);\r\n\t\t\r\n\t\tvar option = {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\ttext: this.panel.barChartTitle\r\n\t\t\t\t},\r\n                grid: {\r\n                    left: 40,\r\n                    top: 10,\r\n                    bottom: 25,\r\n                    right: 10\r\n                },\r\n\t\t\t\ttooltip: {\r\n                },\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\tdata: barChartData.xAxisData\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdata: barChartData.legend,\r\n\t\t\t\t\tright: \"0px\",\r\n                    top: \"0px\",\r\n                    z: 3,\r\n                    orient: \"horizontal\",\r\n                    textStyle: {\r\n                        color: \"white\" //图例字体颜色\r\n                    }\r\n\t\t\t\t},\r\n\t\t\t\tseries: barChartData.series,\r\n                textStyle: {\r\n                    color: \"white\"\r\n                }\r\n\t\t\t};\r\n\t\tmyChart.setOption(option);\r\n\t}\r\n\r\n\tlink(scope, elem, attrs, ctrl) {\r\n\t\tctrl.barChartElem = elem;\r\n\t}\r\n}\r\n\r\nBarChartPanelCtrl.templateUrl = 'module.html';"]}